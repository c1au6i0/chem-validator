[workspace]
name = "chem-validator"
version = "0.1.12"
description = "Chemical CSV Validator with PubChem Integration"
authors = ["heverz"]
channels = ["conda-forge"]
platforms = ["win-64", "osx-64", "linux-64"]
license = "GPL-3.0-or-later"
license-file = "LICENSE"
readme = "README.md"
repository = "https://github.com/c1au6i0/chem-validator"

[dependencies]
python = "3.13.*"
pandas = ">=2.0.0"
pubchempy = ">=1.0.4"
openpyxl = ">=3.1.0"
certifi = ">=2024.0.0"
truststore = ">=0.10.0"
zstandard = ">=0.23.0"
pytest = ">=8.0.0"
pytest-cov = ">=4.1.0"
pytest-mock = ">=3.12.0"
nuitka = ">=2.5.0"
pre-commit = ">=3.5.0"

[tasks]
# Development
gui = "python -m src.main"
cli = { cmd = "python -m src.cli", description = "Run CLI validator" }

# Testing
test = { cmd = "pytest tests/ -v", description = "Run all tests" }
test-fast = { cmd = "pytest tests/ -m fast -v", description = "Run only fast tests" }
test-slow = { cmd = "pytest tests/ -m slow -v", description = "Run only slow tests" }
test-coverage = { cmd = "pytest tests/ --cov=src --cov-report=term --cov-report=html", description = "Run tests with coverage report" }
coverage-check = { cmd = "pytest tests/ -m fast --cov=src --cov-fail-under=80 -q", description = "Check 80% coverage threshold" }

# Building
build = { cmd = "python scripts/nuitka_build.py", description = "Build standalone executable" }
clean = { cmd = "rm -rf build/ dist/ .nuitka_workarounds/ __pycache__ .pytest_cache htmlcov/ src/__pycache__ tests/__pycache__", description = "Clean build artifacts" }

# Pre-commit
install-hooks = { cmd = "pre-commit install", description = "Install pre-commit hooks" }
run-hooks = { cmd = "pre-commit run --all-files", description = "Run hooks manually" }
